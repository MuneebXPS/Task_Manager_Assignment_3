<%- include('../partials/header') %>
<div class="row">
    <div class="col-md-6 offset-md-3">
        <h1>Edit Task</h1>
        <form action="/tasks/<%= task._id %>?_method=PUT" method="POST">
            <div class="mb-3">
                <label for="title" class="form-label">Title</label>
                <input
                    type="text"
                    name="title"
                    id="title"
                    class="form-control"
                    value="<%= task.title %>"
                    required
                />
            </div>
            <div class="mb-3">
                <label for="description" class="form-label">Description</label>
                <textarea
                    name="description"
                    id="description"
                    class="form-control"
                ><%= task.description || '' %></textarea>
            </div>
            <div class="mb-3">
                <label for="dueDate" class="form-label">Due Date</label>
                <input
                    type="date"
                    name="dueDate"
                    id="dueDate"
                    class="form-control"
                    value="<%= task.dueDate ? task.dueDate.toISOString().substring(0, 10) : '' %>"
                />
            </div>
            <div class="mb-3">
                <label for="priority" class="form-label">Priority</label>
                <select name="priority" id="priority" class="form-select">
                    <option value="Low" <%= task.priority === 'Low' ? 'selected' : '' %>>Low</option>
                    <option value="Medium" <%= task.priority === 'Medium' ? 'selected' : '' %>>Medium</option>
                    <option value="High" <%= task.priority === 'High' ? 'selected' : '' %>>High</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="status" class="form-label">Status</label>
                <select name="status" id="status" class="form-select">
                    <option value="To-Do" <%= task.status === 'To-Do' ? 'selected' : '' %>>To-Do</option>
                    <option value="In-Progress" <%= task.status === 'In-Progress' ? 'selected' : '' %>>In-Progress</option>
                    <option value="Completed" <%= task.status === 'Completed' ? 'selected' : '' %>>Completed</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Update Task</button>
            <a href="/tasks" class="btn btn-secondary">Cancel</a>
        </form>
    </div>
</div>
<%- include('../partials/footer') %>
